{% extends 'categorie_user.html' %}

{% block content %}
  <div class="container my-5">
    <div class="row">
      <div class="col-md-8">
        <h2 class="mb-4">{{ category.titre_categ }} Details</h2>
        <p class="lead">{{ category.description_categ }}</p>
        <p><strong>Reduction:</strong> {{ category.reduction_percent }}%</p>
        <!-- Add any other details you want to display -->

        <!-- Ajouter l'image de la catégorie avec une taille fixe -->
        {% if category.image %}
        <img src="{{ category.image.url }}" alt="{{ category.titre_categ }}" class="img-fluid" style="width: 300px; height: 200px;">
        {% endif %}
      </div>
      <div class="col-md-4">
        <!-- Vous pouvez ajouter une barre latérale ou des détails supplémentaires ici si nécessaire -->
      </div>
    </div>

    <h2>{{ category.nom }}</h2>
    <p>{{ category.description }}</p>

    <h3>Voyages associés:</h3>
    <ul>
      {% for voyage in voyages %}
      <div class="col-lg-4 col-md-6 wow fadeInUp" data-wow-delay="0.3s">
        <div class="package-item">
          <div class="overflow-hidden" style="width: 355px; height: 200px;">
            <img class="img-fluid" src="{{ voyage.image.url }}" alt="{{ voyage.ville_destination }}">
          </div>
          <div class="d-flex border-bottom">
            <small class="flex-fill text-center border-end py-2"><i class="fa fa-map-marker-alt text-primary me-2"></i>À {{ voyage.ville_destination }}</small>
            <small class="flex-fill text-center border-end py-2"><i class="fa fa-calendar-alt text-primary me-2"></i>{{ voyage.duration }} jours</small>
            <small class="flex-fill text-center py-2"><i class="fa fa-solid fa-clipboard text-primary me-2"></i>{{ voyage.categorie }}</small>
          </div>
          <div class="text-center p-4">
            <h3 class="mb-0">{{ voyage.prix }}MAD</h3>
            <div class="mb-3">
              <!-- ***** LOGIQUE pour afficher les étoiles en fonction de la note ***** -->
            </div>
            <p>{{ voyage.description }}</p>
            <div class="d-flex justify-content-center mb-2">
              <a href="{% url 'user:detail-voyage' voyage.id %}" class="btn btn-sm btn-primary px-3 border-end" style="border-radius: 30px 0 0 30px;">Détails</a>
              <a href="{% url 'user:reservation' voyage.id %}" class="btn btn-sm btn-primary px-3" style="border-radius: 0 30px 30px 0;">Réserver</a>
            </div>
          </div>
        </div>
      </div>
      {% endfor %}
    </ul>
  </div>
{% endblock %}